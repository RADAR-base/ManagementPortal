<!--
  ~ Copyright (c) 2021. The Hyve
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~
  ~ See the file LICENSE in the root of this repository.
  -->

<h4 [translate]="'metrics.jvm.threads.title'">Threads</h4>

<span><span [translate]="'metrics.jvm.threads.runnable'">Runnable</span> {{ threadStats.threadDumpRunnable }}</span>

<ngb-progressbar
        [animated]="false"
        [max]="threadStats.threadDumpAll"
        [striped]="true"
        [value]="threadStats.threadDumpRunnable"
        type="success"
>
    <span>{{ (threadStats.threadDumpRunnable * 100) / threadStats.threadDumpAll | number: '1.0-0' }}%</span>
</ngb-progressbar>

<span><span
        [translate]="'metrics.jvm.threads.timedwaiting'">Timed Waiting</span> ({{ threadStats.threadDumpTimedWaiting }})</span>

<ngb-progressbar
        [animated]="false"
        [max]="threadStats.threadDumpAll"
        [striped]="true"
        [value]="threadStats.threadDumpTimedWaiting"
        type="warning"
>
    <span>{{ (threadStats.threadDumpTimedWaiting * 100) / threadStats.threadDumpAll | number: '1.0-0' }}%</span>
</ngb-progressbar>

<span><span [translate]="'metrics.jvm.threads.waiting'">Waiting</span> ({{ threadStats.threadDumpWaiting }})</span>

<ngb-progressbar
        [animated]="false"
        [max]="threadStats.threadDumpAll"
        [striped]="true"
        [value]="threadStats.threadDumpWaiting"
        type="warning"
>
    <span>{{ (threadStats.threadDumpWaiting * 100) / threadStats.threadDumpAll | number: '1.0-0' }}%</span>
</ngb-progressbar>

<span><span [translate]="'metrics.jvm.threads.blocked'">Blocked</span> ({{ threadStats.threadDumpBlocked }})</span>

<ngb-progressbar
        [animated]="false"
        [max]="threadStats.threadDumpAll"
        [striped]="true"
        [value]="threadStats.threadDumpBlocked"
        type="success"
>
    <span>{{ (threadStats.threadDumpBlocked * 100) / threadStats.threadDumpAll | number: '1.0-0' }}%</span>
</ngb-progressbar>

<div>Total: {{ threadStats.threadDumpAll }}</div>

<button (click)="open()" class="hand btn btn-primary btn-sm" data-target="#threadDump" data-toggle="modal">
    <span>Expand</span>
</button>
