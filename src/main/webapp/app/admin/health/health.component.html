<div>
    <h2>
        <span [translate]="'health.title'" data-cy="healthPageHeading" id="health-page-heading">Health Checks</span>

        <button (click)="refresh()" class="btn btn-primary float-right">
            <fa-icon icon="sync"></fa-icon>
            <span [translate]="'health.refresh.button'">Refresh</span>
        </button>
    </h2>

    <div class="table-responsive">
        <table aria-describedby="health-page-heading" class="table table-striped" id="healthCheck">
            <thead>
            <tr>
                <th [translate]="'health.table.service'" scope="col">Service Name</th>
                <th [translate]="'health.table.status'" class="text-center" scope="col">Status</th>
                <th [translate]="'health.details.details'" class="text-center" scope="col">Details</th>
            </tr>
            </thead>
            <tbody *ngIf="health">
            <tr *ngFor="let componentHealth of health.components | keyvalue">
                <td>
                    {{ 'health.indicator.' + componentHealth.key | translate }}
                </td>
                <td class="text-center">
            <span
                    [ngClass]="getBadgeClass(componentHealth.value!.status)"
                    [translate]="'health.status.' + componentHealth.value!.status"
                    class="badge"
            >
                    {{ componentHealth.value!.status }}
                    </span>
                </td>
                <td class="text-center">
                    <a
                            (click)="showHealth({ key: componentHealth.key, value: componentHealth.value! })"
                            *ngIf="componentHealth.value!.details"
                            class="hand"
                    >
                        <fa-icon icon="eye"></fa-icon>
                    </a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
