<!--
  ~ Copyright (c) 2021. The Hyve
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~
  ~ See the file LICENSE in the root of this repository.
  -->

<h3 [translate]="'metrics.jvm.http.title'" id="requestMetrics">HTTP requests (time in millisecond)</h3>

<table *ngIf="!updating && requestMetrics" aria-describedby="requestMetrics" class="table table-striped">
    <thead>
    <tr>
        <th [translate]="'metrics.jvm.http.table.code'" scope="col">Code</th>
        <th [translate]="'metrics.jvm.http.table.count'" scope="col">Count</th>
        <th [translate]="'metrics.jvm.http.table.mean'" class="text-right" scope="col">Mean</th>
        <th [translate]="'metrics.jvm.http.table.max'" class="text-right" scope="col">Max</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let entry of requestMetrics.percode | keyvalue">
        <td>{{ entry.key }}</td>
        <td>
            <ngb-progressbar [animated]="false" [max]="requestMetrics.all.count" [striped]="true"
                             [value]="entry.value.count" type="success">
                <span>{{ entry.value.count }}</span>
            </ngb-progressbar>
        </td>
        <td class="text-right">
            {{ filterNaN(entry.value.mean) | number: '1.0-2' }}
        </td>
        <td class="text-right">{{ entry.value.max | number: '1.0-2' }}</td>
    </tr>
    </tbody>
</table>
