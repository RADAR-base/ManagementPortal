<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>RevisionService (management-portal 0.7.1 API)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="RevisionService (management-portal 0.7.1 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/radarbase/management/service/ResourceUriService.html" title="class in org.radarbase.management.service"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/radarbase/management/service/RoleService.html" title="class in org.radarbase.management.service"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/radarbase/management/service/RevisionService.html" target="_top">Frames</a></li>
<li><a href="RevisionService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.radarbase.management.service</div>
<h2 title="Class RevisionService" class="title">Class RevisionService</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.radarbase.management.service.RevisionService</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>org.springframework.beans.factory.Aware, org.springframework.context.ApplicationContextAware</dd>
</dl>
<hr>
<br>
<pre>@Service
 @Transactional(isolation=REPEATABLE_READ,
               readOnly=true)
public class <span class="typeNameLabel">RevisionService</span>
extends java.lang.Object
implements org.springframework.context.ApplicationContextAware</pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/radarbase/management/service/RevisionService.html#RevisionService-org.radarbase.management.repository.CustomRevisionEntityRepository-">RevisionService</a></span>(<a href="../../../../org/radarbase/management/repository/CustomRevisionEntityRepository.html" title="interface in org.radarbase.management.repository">CustomRevisionEntityRepository</a>&nbsp;revisionEntityRepository)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>&lt;T,R&gt;&nbsp;R</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/radarbase/management/service/RevisionService.html#findRevision-java.lang.Integer-java.lang.Long-java.lang.Class-java.util.function.Function-">findRevision</a></span>(java.lang.Integer&nbsp;revisionNb,
            java.lang.Long&nbsp;id,
            java.lang.Class&lt;T&gt;&nbsp;clazz,
            java.util.function.Function&lt;T,R&gt;&nbsp;dtoMapper)</code>
<div class="block">Find a specific revision of a specific entity.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/radarbase/management/domain/audit/EntityAuditInfo.html" title="class in org.radarbase.management.domain.audit">EntityAuditInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/radarbase/management/service/RevisionService.html#getAuditInfo-org.radarbase.management.domain.AbstractEntity-">getAuditInfo</a></span>(<a href="../../../../org/radarbase/management/domain/AbstractEntity.html" title="class in org.radarbase.management.domain">AbstractEntity</a>&nbsp;entity)</code>
<div class="block">Find audit info for a given entity.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.util.Map&lt;org.hibernate.envers.RevisionType,java.util.List&lt;java.lang.Object&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/radarbase/management/service/RevisionService.html#getChangesForRevision-java.lang.Integer-">getChangesForRevision</a></span>(java.lang.Integer&nbsp;revision)</code>
<div class="block">Get changes for a specific revision number, ordered by revision type.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.util.Optional&lt;java.lang.Object&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/radarbase/management/service/RevisionService.html#getLatestRevisionForEntity-java.lang.Class-java.util.List-">getLatestRevisionForEntity</a></span>(java.lang.Class&lt;?&gt;&nbsp;clazz,
                          java.util.List&lt;org.hibernate.envers.query.criteria.AuditCriterion&gt;&nbsp;criteria)</code>
<div class="block">Find the latest revision of an entity of a given class, that matches given criteria.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../org/radarbase/management/service/dto/RevisionInfoDTO.html" title="class in org.radarbase.management.service.dto">RevisionInfoDTO</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/radarbase/management/service/RevisionService.html#getRevision-java.lang.Integer-">getRevision</a></span>(java.lang.Integer&nbsp;revision)</code>
<div class="block">Get a single revision.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>org.springframework.data.domain.Page&lt;<a href="../../../../org/radarbase/management/service/dto/RevisionInfoDTO.html" title="class in org.radarbase.management.service.dto">RevisionInfoDTO</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/radarbase/management/service/RevisionService.html#getRevisions-org.springframework.data.domain.Pageable-">getRevisions</a></span>(org.springframework.data.domain.Pageable&nbsp;pageable)</code>
<div class="block">Get a page of revisions.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>org.springframework.data.domain.Page&lt;<a href="../../../../org/radarbase/management/service/dto/RevisionDTO.html" title="class in org.radarbase.management.service.dto">RevisionDTO</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/radarbase/management/service/RevisionService.html#getRevisionsForEntity-org.springframework.data.domain.Pageable-org.radarbase.management.domain.AbstractEntity-">getRevisionsForEntity</a></span>(org.springframework.data.domain.Pageable&nbsp;pageable,
                     <a href="../../../../org/radarbase/management/domain/AbstractEntity.html" title="class in org.radarbase.management.domain">AbstractEntity</a>&nbsp;entity)</code>
<div class="block">Get a page of revisions for a given entity.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/radarbase/management/service/RevisionService.html#setApplicationContext-org.springframework.context.ApplicationContext-">setApplicationContext</a></span>(org.springframework.context.ApplicationContext&nbsp;applicationContext)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RevisionService-org.radarbase.management.repository.CustomRevisionEntityRepository-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RevisionService</h4>
<pre>public&nbsp;RevisionService(@Autowired
                       <a href="../../../../org/radarbase/management/repository/CustomRevisionEntityRepository.html" title="interface in org.radarbase.management.repository">CustomRevisionEntityRepository</a>&nbsp;revisionEntityRepository)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getAuditInfo-org.radarbase.management.domain.AbstractEntity-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAuditInfo</h4>
<pre>public&nbsp;<a href="../../../../org/radarbase/management/domain/audit/EntityAuditInfo.html" title="class in org.radarbase.management.domain.audit">EntityAuditInfo</a>&nbsp;getAuditInfo(<a href="../../../../org/radarbase/management/domain/AbstractEntity.html" title="class in org.radarbase.management.domain">AbstractEntity</a>&nbsp;entity)</pre>
<div class="block">Find audit info for a given entity. The audit info includes created by, created at, last
 modified by and last modified at.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entity</code> - the entity to look up</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the audit information. The fields in this object can be null if that information
         was not available.</dd>
</dl>
</li>
</ul>
<a name="findRevision-java.lang.Integer-java.lang.Long-java.lang.Class-java.util.function.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findRevision</h4>
<pre>public&nbsp;&lt;T,R&gt;&nbsp;R&nbsp;findRevision(java.lang.Integer&nbsp;revisionNb,
                            java.lang.Long&nbsp;id,
                            java.lang.Class&lt;T&gt;&nbsp;clazz,
                            java.util.function.Function&lt;T,R&gt;&nbsp;dtoMapper)</pre>
<div class="block">Find a specific revision of a specific entity. The repository methods seem not to be able
 to find back a deleted entity with their findRevision method.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the entity class</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>revisionNb</code> - the revision number</dd>
<dd><code>id</code> - the entity id</dd>
<dd><code>clazz</code> - the entity class</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the entity at the specified revision</dd>
</dl>
</li>
</ul>
<a name="getRevisions-org.springframework.data.domain.Pageable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRevisions</h4>
<pre>public&nbsp;org.springframework.data.domain.Page&lt;<a href="../../../../org/radarbase/management/service/dto/RevisionInfoDTO.html" title="class in org.radarbase.management.service.dto">RevisionInfoDTO</a>&gt;&nbsp;getRevisions(org.springframework.data.domain.Pageable&nbsp;pageable)</pre>
<div class="block">Get a page of revisions.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pageable</code> - Page information</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the page of revisions <a href="../../../../org/radarbase/management/service/dto/RevisionInfoDTO.html" title="class in org.radarbase.management.service.dto"><code>RevisionInfoDTO</code></a></dd>
</dl>
</li>
</ul>
<a name="getRevisionsForEntity-org.springframework.data.domain.Pageable-org.radarbase.management.domain.AbstractEntity-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRevisionsForEntity</h4>
<pre>public&nbsp;org.springframework.data.domain.Page&lt;<a href="../../../../org/radarbase/management/service/dto/RevisionDTO.html" title="class in org.radarbase.management.service.dto">RevisionDTO</a>&gt;&nbsp;getRevisionsForEntity(org.springframework.data.domain.Pageable&nbsp;pageable,
                                                                               <a href="../../../../org/radarbase/management/domain/AbstractEntity.html" title="class in org.radarbase.management.domain">AbstractEntity</a>&nbsp;entity)</pre>
<div class="block">Get a page of revisions for a given entity.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pageable</code> - the page information</dd>
<dd><code>entity</code> - the entity for which to get the revisions</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the requested page of revisions for the given entity</dd>
</dl>
</li>
</ul>
<a name="getRevision-java.lang.Integer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRevision</h4>
<pre>public&nbsp;<a href="../../../../org/radarbase/management/service/dto/RevisionInfoDTO.html" title="class in org.radarbase.management.service.dto">RevisionInfoDTO</a>&nbsp;getRevision(java.lang.Integer&nbsp;revision)
                            throws <a href="../../../../org/radarbase/management/web/rest/errors/NotFoundException.html" title="class in org.radarbase.management.web.rest.errors">NotFoundException</a></pre>
<div class="block">Get a single revision.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>revision</code> - the revision number</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the revision</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/radarbase/management/web/rest/errors/NotFoundException.html" title="class in org.radarbase.management.web.rest.errors">NotFoundException</a></code> - if the revision number does not exist</dd>
</dl>
</li>
</ul>
<a name="getChangesForRevision-java.lang.Integer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChangesForRevision</h4>
<pre>public&nbsp;java.util.Map&lt;org.hibernate.envers.RevisionType,java.util.List&lt;java.lang.Object&gt;&gt;&nbsp;getChangesForRevision(java.lang.Integer&nbsp;revision)</pre>
<div class="block">Get changes for a specific revision number, ordered by revision type.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>revision</code> - the revision number</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A map with as keys the revision types, and as values the list of changed objects
         of that type</dd>
</dl>
</li>
</ul>
<a name="setApplicationContext-org.springframework.context.ApplicationContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setApplicationContext</h4>
<pre>public&nbsp;void&nbsp;setApplicationContext(org.springframework.context.ApplicationContext&nbsp;applicationContext)
                           throws org.springframework.beans.BeansException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>setApplicationContext</code>&nbsp;in interface&nbsp;<code>org.springframework.context.ApplicationContextAware</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.springframework.beans.BeansException</code></dd>
</dl>
</li>
</ul>
<a name="getLatestRevisionForEntity-java.lang.Class-java.util.List-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getLatestRevisionForEntity</h4>
<pre>public&nbsp;java.util.Optional&lt;java.lang.Object&gt;&nbsp;getLatestRevisionForEntity(java.lang.Class&lt;?&gt;&nbsp;clazz,
                                                                       java.util.List&lt;org.hibernate.envers.query.criteria.AuditCriterion&gt;&nbsp;criteria)
                                                                throws org.hibernate.envers.exception.AuditException,
                                                                       javax.persistence.NonUniqueResultException</pre>
<div class="block"><p>Find the latest revision of an entity of a given class, that matches given criteria. This
 is useful for finding deleted entities by properties other than their primary key. The
 criteria should be defined such that zero or one entities match.</p>

 <p>Example: <code>getLatestRevisionForEntity(Subject.class, Arrays.asList(AuditEntity
 .property("user.login").eq(requestedLogin)))</code>.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clazz</code> - The entity class</dd>
<dd><code>criteria</code> - The list of criteria that will be added to the audit query</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The DTO version of the latest revision of the requested entity, or an empty
         optional if no entity was found matching the given criteria.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.hibernate.envers.exception.AuditException</code> - if the entity is not audited</dd>
<dd><code>javax.persistence.NonUniqueResultException</code> - if multiple enities match the criteria</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/radarbase/management/service/ResourceUriService.html" title="class in org.radarbase.management.service"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/radarbase/management/service/RoleService.html" title="class in org.radarbase.management.service"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/radarbase/management/service/RevisionService.html" target="_top">Frames</a></li>
<li><a href="RevisionService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
