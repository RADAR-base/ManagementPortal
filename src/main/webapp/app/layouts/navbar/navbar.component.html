<nav class="navbar navbar-expand-lg navbar-dark">
    <a (click)="collapseNavbar()" class="navbar-brand" routerLink="/">
        <span class="logo-img"></span>
        <span [translate]="'global.title'" class="navbar-title"></span>
    </a>
    <button (click)="toggleNavbar()" class="navbar-toggler" type="button">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div *ngIf="{account: principal.account$ | async} as context" [ngbCollapse]="isNavbarCollapsed"
         class="navbar-collapse collapse">
        <ul class="navbar-nav ml-auto">
            <li [routerLinkActiveOptions]="{exact: true}" class="nav-item" routerLinkActive="active">
                <a (click)="collapseNavbar()" class="nav-link" routerLink="/">
                    <i aria-hidden="true" class="fa fa-home"></i>
                    <span [translate]="'global.menu.home'"></span>
                </a>
            </li>
            <!-- jhipster-needle-add-element-to-menu - JHipster will add new menu items here -->
            <li *jhiHasAnyAuthority="['ROLE_SYS_ADMIN']" class="nav-item dropdown pointer" ngbDropdown>
                <a class="nav-link dropdown-toggle" href="javascript:void(0);" id="entity-menu"
                   ngbDropdownToggle routerLinkActive="active">
                    <span>
                        <i aria-hidden="true" class="fa fa-th-list"></i>
                        <span [translate]="'global.menu.entities.main'"></span>
                    </span>
                </a>
                <ul class="dropdown-menu" ngbDropdownMenu>
                    <li uiSrefActive="active">
                        <a (click)="collapseNavbar()" class="dropdown-item" routerLink="source">
                            <i aria-hidden="true" class="fa fa-fw fa-asterisk"></i>
                            <span [translate]="'global.menu.entities.source'"></span>
                        </a>
                    </li>
                    <li uiSrefActive="active">
                        <a (click)="collapseNavbar()" class="dropdown-item" routerLink="source-type">
                            <i aria-hidden="true" class="fa fa-fw fa-asterisk"></i>
                            <span [translate]="'global.menu.entities.sourceType'"></span>
                        </a>
                    </li>
                    <li uiSrefActive="active">
                        <a (click)="collapseNavbar()" class="dropdown-item" routerLink="source-data">
                            <i aria-hidden="true" class="fa fa-fw fa-asterisk"></i>
                            <span [translate]="'global.menu.entities.sourceData'"></span>
                        </a>
                    </li>
                    <li uiSrefActive="active">
                        <a (click)="collapseNavbar()" class="dropdown-item" routerLink="subject">
                            <i aria-hidden="true" class="fa fa-fw fa-asterisk"></i>
                            <span [translate]="'global.menu.entities.subject'"></span>
                        </a>
                    </li>
                    <!-- jhipster-needle-add-entity-to-menu - JHipster will add entities to the menu here -->
                </ul>
            </li>
            <!--Project menu-->
            <li *ngIf="context.account" class="nav-item dropdown pointer" ngbDropdown>
                <a class="nav-link dropdown-toggle" href="javascript:void(0);" id="projects-menu"
                   ngbDropdownToggle routerLinkActive="active">
                    <span>
                        <i aria-hidden="true" class="fa fa-th-list"></i>
                        <span [translate]="'global.menu.entities.organization'"></span>
                    </span>
                </a>
                <ul class="dropdown-menu" ngbDropdownMenu>
                    <li *ngFor="let organization of organizationService.organizations$ | async; trackBy: trackOrganizationName"
                        uiSrefActive="active">
                        <a (click)="collapseNavbar()" [routerLink]="['organization' , organization.name]"
                           class="dropdown-item">
                            <i class="fa fa-fw fa-desktop"></i>
                            <span>{{ organization.name }} </span>
                        </a>
                    </li>
                </ul>
            </li>

            <li *jhiHasAnyAuthority="['ROLE_SYS_ADMIN']" class="nav-item dropdown pointer" ngbDropdown>
                <a class="nav-link dropdown-toggle" href="javascript:void(0);" id="admin-menu" ngbDropdownToggle>
                    <span>
                        <i aria-hidden="true" class="fa fa-user-plus"></i>
                        <span [translate]="'global.menu.admin.main'"></span>
                    </span>
                </a>
                <ul *ngIf="(this.profileService.profileInfo$ | async) as profileInfo" class="dropdown-menu"
                    ngbDropdownMenu>
                    <li>
                        <a (click)="collapseNavbar()" class="dropdown-item" routerLink="user-management"
                           routerLinkActive="active">
                            <i aria-hidden="true" class="fa fa-fw fa-user"></i>
                            <span [translate]="'global.menu.admin.userManagement'"></span>
                        </a>
                    </li>
                    <li>
                        <a (click)="collapseNavbar()" class="dropdown-item" routerLink="organization"
                           routerLinkActive="active">
                            <i aria-hidden="true" class="fa fa-fw fa-desktop"></i>
                            <span [translate]="'global.menu.entities.organization'"></span>
                        </a>
                    </li>
                    <li *jhiHasAnyAuthority="['ROLE_SYS_ADMIN']">
                        <a (click)="collapseNavbar()" class="dropdown-item" routerLink="oauth-client"
                           routerLinkActive="active">
                            <i aria-hidden="true" class="fa fa-fw fa-key"></i>
                            <span [translate]="'global.menu.entities.oauth-clients'"></span>
                        </a>
                    </li>
                    <li *jhiHasAnyAuthority="['ROLE_SYS_ADMIN']">
                        <a (click)="collapseNavbar()" class="dropdown-item" routerLink="jhi-metrics"
                           routerLinkActive="active">
                            <i aria-hidden="true" class="fa fa-fw fa-tachometer"></i>
                            <span [translate]="'global.menu.admin.metrics'"></span>
                        </a>
                    </li>
                    <li *jhiHasAnyAuthority="['ROLE_SYS_ADMIN']">
                        <a (click)="collapseNavbar()" class="dropdown-item" routerLink="jhi-health"
                           routerLinkActive="active">
                            <i aria-hidden="true" class="fa fa-fw fa-heart"></i>
                            <span [translate]="'global.menu.admin.health'"></span>
                        </a>
                    </li>
                    <li *jhiHasAnyAuthority="['ROLE_SYS_ADMIN']">
                        <a (click)="collapseNavbar()" class="dropdown-item" routerLink="audits"
                           routerLinkActive="active">
                            <i aria-hidden="true" class="fa fa-fw fa-bell"></i>
                            <span [translate]="'global.menu.admin.audits'"></span>
                        </a>
                    </li>
                    <li *jhiHasAnyAuthority="['ROLE_SYS_ADMIN']">
                        <a (click)="collapseNavbar()" class="dropdown-item" routerLink="revisions"
                           routerLinkActive="active">
                            <i aria-hidden="true" class="fa fa-fw fa-history"></i>
                            <span [translate]="'global.menu.admin.revisions'"></span>
                        </a>
                    </li>
                    <li *jhiHasAnyAuthority="['ROLE_SYS_ADMIN']">
                        <a (click)="collapseNavbar()" class="dropdown-item" routerLink="logs" routerLinkActive="active">
                            <i aria-hidden="true" class="fa fa-fw fa-tasks"></i>
                            <span [translate]="'global.menu.admin.logs'"></span>
                        </a>
                    </li>
                    <li *ngIf="profileInfo.apiDocsEnabled">
                        <a (click)="collapseNavbar()" class="dropdown-item" routerLink="docs" routerLinkActive="active">
                            <i aria-hidden="true" class="fa fa-fw fa-book"></i>
                            <span [translate]="'global.menu.admin.apidocs'"></span>
                        </a>
                    </li>
                </ul>
            </li>

            <li *ngIf="languageHelper.languages$ | async as languages" class="nav-item dropdown pointer" ngbDropdown>
                <a *ngIf="languages.length > 1" class="nav-link dropdown-toggle" href="javascript:void(0);"
                   id="languagesnavBarDropdown" ngbDropdownToggle>
                    <span>
                        <i aria-hidden="true" class="fa fa-flag"></i>
                        <span [translate]="'global.menu.language'"></span>
                    </span>
                </a>
                <ul *ngIf="languages.length > 1" class="dropdown-menu" ngbDropdownMenu>
                    <li *ngFor="let language of languages">
                        <a (click)="changeLanguage(language);collapseNavbar();" [jhiActiveMenu]="language"
                           class="dropdown-item"
                           href="javascript:void(0);">{{ language | findLanguageFromKey }}</a>
                    </li>
                </ul>
            </li>
            <li class="nav-item dropdown pointer" ngbDropdown>
                <a class="nav-link dropdown-toggle" href="javascript:void(0);" id="account-menu" ngbDropdownToggle>
                  <span>
                    <i aria-hidden="true" class="fa fa-user"></i>
                    <span [translate]="'global.menu.account.main'"></span>
                  </span>
                </a>
                <ul class="dropdown-menu dropdown-menu-right" ngbDropdownMenu>
                    <li *ngIf="context.account">
                        <a (click)="redirectToProfile()" class="dropdown-item" routerLink="settings"
                           routerLinkActive="active">
                            <i aria-hidden="true" class="fa fa-fw fa-wrench"></i>
                            <span [translate]="'global.menu.account.settings'"></span>
                        </a>
                    </li>
                    <li *ngIf="context.account">
                        <a (click)="logout()" class="dropdown-item" id="logout">
                            <i aria-hidden="true" class="fa fa-fw fa-sign-out"></i>
                            <span [translate]="'global.menu.account.logout'"></span>
                        </a>
                    </li>
                    <li *ngIf="!context.account">
                        <a (click)="login()" class="dropdown-item" id="login">
                            <i aria-hidden="true" class="fa fa-fw fa-sign-in"></i>
                            <span [translate]="'global.menu.account.login'"></span>
                        </a>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
</nav>
