<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>RevisionService (management-portal 0.8.2 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="RevisionService (management-portal 0.8.2 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.radarbase.management.service</a></div>
<h2 title="Class RevisionService" class="title">Class RevisionService</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.radarbase.management.service.RevisionService</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>org.springframework.beans.factory.Aware</code>, <code>org.springframework.context.ApplicationContextAware</code></dd>
</dl>
<hr>
<pre>@Service
@Transactional(isolation=REPEATABLE_READ,
               readOnly=true)
public class <span class="typeNameLabel">RevisionService</span>
extends java.lang.Object
implements org.springframework.context.ApplicationContextAware</pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.radarbase.management.repository.CustomRevisionEntityRepository)">RevisionService</a></span>&#8203;(<a href="../repository/CustomRevisionEntityRepository.html" title="interface in org.radarbase.management.repository">CustomRevisionEntityRepository</a>&nbsp;revisionEntityRepository)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>&lt;T,&#8203;R&gt;<br>R</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#findRevision(java.lang.Integer,java.lang.Long,java.lang.Class,java.util.function.Function)">findRevision</a></span>&#8203;(java.lang.Integer&nbsp;revisionNb,
            java.lang.Long&nbsp;id,
            java.lang.Class&lt;T&gt;&nbsp;clazz,
            java.util.function.Function&lt;T,&#8203;R&gt;&nbsp;dtoMapper)</code></th>
<td class="colLast">
<div class="block">Find a specific revision of a specific entity.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../domain/audit/EntityAuditInfo.html" title="class in org.radarbase.management.domain.audit">EntityAuditInfo</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAuditInfo(org.radarbase.management.domain.AbstractEntity)">getAuditInfo</a></span>&#8203;(<a href="../domain/AbstractEntity.html" title="class in org.radarbase.management.domain">AbstractEntity</a>&nbsp;entity)</code></th>
<td class="colLast">
<div class="block">Find audit info for a given entity.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.util.Map&lt;org.hibernate.envers.RevisionType,&#8203;java.util.List&lt;java.lang.Object&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getChangesForRevision(java.lang.Integer)">getChangesForRevision</a></span>&#8203;(java.lang.Integer&nbsp;revision)</code></th>
<td class="colLast">
<div class="block">Get changes for a specific revision number, ordered by revision type.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.util.Optional&lt;java.lang.Object&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLatestRevisionForEntity(java.lang.Class,java.util.List)">getLatestRevisionForEntity</a></span>&#8203;(java.lang.Class&lt;?&gt;&nbsp;clazz,
                          java.util.List&lt;org.hibernate.envers.query.criteria.AuditCriterion&gt;&nbsp;criteria)</code></th>
<td class="colLast">
<div class="block">Find the latest revision of an entity of a given class, that matches given criteria.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="dto/RevisionInfoDTO.html" title="class in org.radarbase.management.service.dto">RevisionInfoDTO</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRevision(java.lang.Integer)">getRevision</a></span>&#8203;(java.lang.Integer&nbsp;revision)</code></th>
<td class="colLast">
<div class="block">Get a single revision.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>org.springframework.data.domain.Page&lt;<a href="dto/RevisionInfoDTO.html" title="class in org.radarbase.management.service.dto">RevisionInfoDTO</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRevisions(org.springframework.data.domain.Pageable)">getRevisions</a></span>&#8203;(org.springframework.data.domain.Pageable&nbsp;pageable)</code></th>
<td class="colLast">
<div class="block">Get a page of revisions.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>org.springframework.data.domain.Page&lt;<a href="dto/RevisionDTO.html" title="class in org.radarbase.management.service.dto">RevisionDTO</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRevisionsForEntity(org.springframework.data.domain.Pageable,org.radarbase.management.domain.AbstractEntity)">getRevisionsForEntity</a></span>&#8203;(org.springframework.data.domain.Pageable&nbsp;pageable,
                     <a href="../domain/AbstractEntity.html" title="class in org.radarbase.management.domain">AbstractEntity</a>&nbsp;entity)</code></th>
<td class="colLast">
<div class="block">Get a page of revisions for a given entity.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setApplicationContext(org.springframework.context.ApplicationContext)">setApplicationContext</a></span>&#8203;(org.springframework.context.ApplicationContext&nbsp;applicationContext)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(org.radarbase.management.repository.CustomRevisionEntityRepository)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RevisionService</h4>
<pre>public&nbsp;RevisionService&#8203;(@Autowired
                       <a href="../repository/CustomRevisionEntityRepository.html" title="interface in org.radarbase.management.repository">CustomRevisionEntityRepository</a>&nbsp;revisionEntityRepository)</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getAuditInfo(org.radarbase.management.domain.AbstractEntity)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAuditInfo</h4>
<pre class="methodSignature">public&nbsp;<a href="../domain/audit/EntityAuditInfo.html" title="class in org.radarbase.management.domain.audit">EntityAuditInfo</a>&nbsp;getAuditInfo&#8203;(<a href="../domain/AbstractEntity.html" title="class in org.radarbase.management.domain">AbstractEntity</a>&nbsp;entity)</pre>
<div class="block">Find audit info for a given entity. The audit info includes created by, created at, last
 modified by and last modified at.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entity</code> - the entity to look up</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the audit information. The fields in this object can be null if that information
         was not available.</dd>
</dl>
</li>
</ul>
<a id="findRevision(java.lang.Integer,java.lang.Long,java.lang.Class,java.util.function.Function)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findRevision</h4>
<pre class="methodSignature">public&nbsp;&lt;T,&#8203;R&gt;&nbsp;R&nbsp;findRevision&#8203;(java.lang.Integer&nbsp;revisionNb,
                                  java.lang.Long&nbsp;id,
                                  java.lang.Class&lt;T&gt;&nbsp;clazz,
                                  java.util.function.Function&lt;T,&#8203;R&gt;&nbsp;dtoMapper)</pre>
<div class="block">Find a specific revision of a specific entity. The repository methods seem not to be able
 to find back a deleted entity with their findRevision method.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the entity class</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>revisionNb</code> - the revision number</dd>
<dd><code>id</code> - the entity id</dd>
<dd><code>clazz</code> - the entity class</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the entity at the specified revision</dd>
</dl>
</li>
</ul>
<a id="getRevisions(org.springframework.data.domain.Pageable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRevisions</h4>
<pre class="methodSignature">public&nbsp;org.springframework.data.domain.Page&lt;<a href="dto/RevisionInfoDTO.html" title="class in org.radarbase.management.service.dto">RevisionInfoDTO</a>&gt;&nbsp;getRevisions&#8203;(org.springframework.data.domain.Pageable&nbsp;pageable)</pre>
<div class="block">Get a page of revisions.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pageable</code> - Page information</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the page of revisions <a href="dto/RevisionInfoDTO.html" title="class in org.radarbase.management.service.dto"><code>RevisionInfoDTO</code></a></dd>
</dl>
</li>
</ul>
<a id="getRevisionsForEntity(org.springframework.data.domain.Pageable,org.radarbase.management.domain.AbstractEntity)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRevisionsForEntity</h4>
<pre class="methodSignature">public&nbsp;org.springframework.data.domain.Page&lt;<a href="dto/RevisionDTO.html" title="class in org.radarbase.management.service.dto">RevisionDTO</a>&gt;&nbsp;getRevisionsForEntity&#8203;(org.springframework.data.domain.Pageable&nbsp;pageable,
                                                                               <a href="../domain/AbstractEntity.html" title="class in org.radarbase.management.domain">AbstractEntity</a>&nbsp;entity)</pre>
<div class="block">Get a page of revisions for a given entity.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pageable</code> - the page information</dd>
<dd><code>entity</code> - the entity for which to get the revisions</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the requested page of revisions for the given entity</dd>
</dl>
</li>
</ul>
<a id="getRevision(java.lang.Integer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRevision</h4>
<pre class="methodSignature">public&nbsp;<a href="dto/RevisionInfoDTO.html" title="class in org.radarbase.management.service.dto">RevisionInfoDTO</a>&nbsp;getRevision&#8203;(java.lang.Integer&nbsp;revision)
                            throws <a href="../web/rest/errors/NotFoundException.html" title="class in org.radarbase.management.web.rest.errors">NotFoundException</a></pre>
<div class="block">Get a single revision.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>revision</code> - the revision number</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the revision</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../web/rest/errors/NotFoundException.html" title="class in org.radarbase.management.web.rest.errors">NotFoundException</a></code> - if the revision number does not exist</dd>
</dl>
</li>
</ul>
<a id="getChangesForRevision(java.lang.Integer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChangesForRevision</h4>
<pre class="methodSignature">public&nbsp;java.util.Map&lt;org.hibernate.envers.RevisionType,&#8203;java.util.List&lt;java.lang.Object&gt;&gt;&nbsp;getChangesForRevision&#8203;(java.lang.Integer&nbsp;revision)</pre>
<div class="block">Get changes for a specific revision number, ordered by revision type.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>revision</code> - the revision number</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A map with as keys the revision types, and as values the list of changed objects
         of that type</dd>
</dl>
</li>
</ul>
<a id="setApplicationContext(org.springframework.context.ApplicationContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setApplicationContext</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setApplicationContext&#8203;(org.springframework.context.ApplicationContext&nbsp;applicationContext)
                           throws org.springframework.beans.BeansException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>setApplicationContext</code>&nbsp;in interface&nbsp;<code>org.springframework.context.ApplicationContextAware</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.springframework.beans.BeansException</code></dd>
</dl>
</li>
</ul>
<a id="getLatestRevisionForEntity(java.lang.Class,java.util.List)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getLatestRevisionForEntity</h4>
<pre class="methodSignature">public&nbsp;java.util.Optional&lt;java.lang.Object&gt;&nbsp;getLatestRevisionForEntity&#8203;(java.lang.Class&lt;?&gt;&nbsp;clazz,
                                                                       java.util.List&lt;org.hibernate.envers.query.criteria.AuditCriterion&gt;&nbsp;criteria)
                                                                throws org.hibernate.envers.exception.AuditException,
                                                                       javax.persistence.NonUniqueResultException</pre>
<div class="block"><p>Find the latest revision of an entity of a given class, that matches given criteria. This
 is useful for finding deleted entities by properties other than their primary key. The
 criteria should be defined such that zero or one entities match.</p>

 <p>Example: <code>getLatestRevisionForEntity(Subject.class, Arrays.asList(AuditEntity
 .property("user.login").eq(requestedLogin)))</code>.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clazz</code> - The entity class</dd>
<dd><code>criteria</code> - The list of criteria that will be added to the audit query</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The DTO version of the latest revision of the requested entity, or an empty
         optional if no entity was found matching the given criteria.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.hibernate.envers.exception.AuditException</code> - if the entity is not audited</dd>
<dd><code>javax.persistence.NonUniqueResultException</code> - if multiple enities match the criteria</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
